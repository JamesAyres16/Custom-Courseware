
<%- include('../partials/header') %>
<%- include('../partials/nav') %>

<div class="container px-4 py-5">
    <div 
        class="p-5 mb-4 bg-light rounded-3 text-white" 
        style="background: center / cover no-repeat url('/media/required/library.jpg');"
    >
        <div class="container-fluid py-5">
            <h1 class="display-5 fw-bold pt-5">Build, Share, Learn</h1>
            <p class="col-md-8 fs-4">
                Allowing Educators to tailor courses to meet thier unique needs and interests of thier students. 
                From customizable assessments to dynamic discussion forums, Custom Courseware puts the power of 
                personalization in your hands.
            </p>
        </div>
    </div>
    <div class="d-flex justify-content-end">
        <button 
            type="button"
            class="btn btn-outline-primary btn-sm"
            data-bs-toggle="modal"
            data-bs-target="#course-modal"
        >
            <i class="bi bi-plus"></i> Create Course 
        </button>
    </div>
    <div 
        class="row g-4 py-5 course-container" 
        id="course-column"
    >
        <% courses.forEach(course => { %>
            <%- include('card', { course: course }) %>
        <%}) %>
    </div>
    <style>
        #course-column:last-child {
            width: 100% !important;
        }
    </style>
</div>

<form enctype='multipart/form-data' method='post' id="course-form">
    <div 
        class="modal fade" 
        id="course-modal" 
        tabindex="-1"  
    >
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="course-modal-title">New Course</h5>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="course-name" class="form-label">Name</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="course-name" 
                            name="course_name" 
                            required
                        >
                    </div>
                                        
                    <div class="mb-3">
                        <label class="form-label" for="course-image">
                            Upload Background Image
                        </label>
                        <input 
                            type="file" 
                            class="form-control" 
                            id="course-image" 
                            name="course_image" 
                            accept="image/png, image/jpeg" 
                            required
                        >
                        <div class="form-text">
                            <small>
                                Upload Image for course card. 
                                Free Photos can be found on sites like unsplash.
                                You can also upload your own photos.
                            </small>
                        </div>
                    </div>  
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="true" name="enable_lessons" id="enable_lessons" checked>
                            <label class="form-check-label" for="enable_lessons">Enable Lessons</label>
                        </div>
                        <div class="form-text">
                            <small>Check this box if you would like a course course with mutiple slide decks.</small>
                        </div>
                    </div>       
                </div>
                <div class="modal-footer">
                    <button 
                        type="button" 
                        class="btn btn-secondary" 
                        data-bs-dismiss="modal" 
                        id="close-course-form"
                    >
                        Close
                    </button>
                    <button 
                        type="submit" 
                        class="btn btn-primary" 
                        id="submit-course"
                    >
                        Save
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>
<script src="/scripts/course/admin/course.js" defer></script>

<%- include('../partials/footer') %>
